<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel='stylesheet' href='style.css'>
    </head>
    <body>

        <button id="play">Play</button>
        <button id="stop">Stop</button>
        <div id='display'></div>


        <script type="module">
            import { webaudio } from './browser.js';
            const tau = Math.PI * 2
            const frequency = 360

            function sine(time, i){
                return Math.sin(time * tau * frequency)
            }

            const channel = webaudio(sine);

            document.getElementById('play').addEventListener('click', e => channel.play())
            document.getElementById('stop').addEventListener('click', e => channel.stop())
        </script>

        <script>
            document.getElementById('display').innerText = 
                document.querySelector('script[type=module]').innerText.replace(/^ {12}/mg, '')
        </script>
    </body>
</html>
