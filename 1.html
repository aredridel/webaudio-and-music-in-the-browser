<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel='stylesheet' href='style.css'>
        <style>
            #display { font-size: 2.2vw }
        </style>
    </head>
    <body>

        <button id="play">Play</button>
        <button id="stop">Stop</button>
        <div id='display'></div>


        <script type="module">
            const ctx = new AudioContext()
            const osc = new OscillatorNode(ctx, { frequency: 360 })
            osc.start()

            function start() {
                osc.connect(ctx.destination)
            }

            function stop() {
                osc.disconnect()
            }

            document.getElementById('play').addEventListener('click', e => start())
            document.getElementById('stop').addEventListener('click', e => stop())
        </script>

        <script>
            document.getElementById('display').innerText = 
                document.querySelector('script[type=module]').innerText.replace(/^ {12}/mg, '')
        </script>
    </body>
</html>
